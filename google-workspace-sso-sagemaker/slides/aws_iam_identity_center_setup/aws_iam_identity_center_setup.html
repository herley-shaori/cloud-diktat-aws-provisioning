<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AWS IAM Identity Center Setup</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            background: linear-gradient(135deg, #0a0a0f 0%, #12120f 50%, #1a1814 100%);
            color: #e8e0d5;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .slide {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 60px 40px;
            position: relative;
            border-bottom: 1px solid rgba(212, 175, 55, 0.1);
        }

        .slide::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 20% 50%, rgba(212, 175, 55, 0.06) 0%, transparent 50%),
                        radial-gradient(circle at 80% 50%, rgba(255, 193, 37, 0.04) 0%, transparent 50%);
            pointer-events: none;
        }

        .slide-content {
            max-width: 1200px;
            width: 100%;
            z-index: 1;
        }

        h1 {
            font-size: 3.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, #d4af37 0%, #f4c430 50%, #c5a028 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 20px;
            text-align: center;
        }

        h2 {
            font-size: 2.5rem;
            font-weight: 600;
            color: #d4af37;
            margin-bottom: 40px;
            text-align: center;
        }

        h3 {
            font-size: 1.8rem;
            color: #e6c555;
            margin-bottom: 20px;
        }

        .subtitle {
            font-size: 1.4rem;
            color: #9a8a6e;
            text-align: center;
            margin-bottom: 40px;
        }

        .card {
            background: rgba(212, 175, 55, 0.03);
            border: 1px solid rgba(212, 175, 55, 0.12);
            border-radius: 16px;
            padding: 30px;
            margin: 20px 0;
            backdrop-filter: blur(10px);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(212, 175, 55, 0.1);
        }

        .icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }

        .highlight {
            color: #d4af37;
            font-weight: 600;
        }

        .slide-number {
            position: absolute;
            bottom: 30px;
            right: 40px;
            font-size: 0.9rem;
            color: #5a5040;
        }

        nav {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 100;
            display: flex;
            gap: 10px;
        }

        nav a {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(212, 175, 55, 0.25);
            transition: background 0.3s ease;
        }

        nav a:hover, nav a.active {
            background: #d4af37;
        }

        .aws-box {
            background: rgba(212, 175, 55, 0.08);
            border: 2px solid #d4af37;
            border-radius: 16px;
            padding: 25px 35px;
            text-align: center;
            box-shadow: 0 4px 30px rgba(212, 175, 55, 0.15);
        }

        .aws-box-icon {
            font-size: 3rem;
            margin-bottom: 10px;
            color: #d4af37;
        }

        .back-link {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 100;
            color: #d4af37;
            text-decoration: none;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 15px;
            background: rgba(212, 175, 55, 0.08);
            border: 1px solid rgba(212, 175, 55, 0.15);
            border-radius: 8px;
            transition: background 0.3s ease;
        }

        .back-link:hover {
            background: rgba(212, 175, 55, 0.15);
        }

        .feature-card {
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.06) 0%, rgba(197, 160, 40, 0.03) 100%);
            border: 1px solid rgba(212, 175, 55, 0.15);
        }

        .flow-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin: 40px 0;
        }

        .flow-step {
            display: flex;
            align-items: center;
            gap: 30px;
            padding: 25px 30px;
            background: rgba(212, 175, 55, 0.03);
            border-radius: 16px;
            border: 1px solid rgba(212, 175, 55, 0.1);
            position: relative;
            transition: all 0.3s ease;
        }

        .flow-step:hover {
            background: rgba(212, 175, 55, 0.08);
            border-color: rgba(212, 175, 55, 0.25);
        }

        .flow-step::after {
            content: '';
            position: absolute;
            bottom: -20px;
            left: 50%;
            width: 2px;
            height: 20px;
            background: linear-gradient(to bottom, rgba(212, 175, 55, 0.3), transparent);
        }

        .flow-step:last-child::after {
            display: none;
        }

        .step-number {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, #d4af37 0%, #c5a028 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.4rem;
            font-weight: 700;
            color: #0a0a0f;
            flex-shrink: 0;
        }

        .step-icon {
            font-size: 2.5rem;
            flex-shrink: 0;
        }

        .step-content {
            flex: 1;
        }

        .step-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: #e6c555;
            margin-bottom: 8px;
        }

        .step-description {
            color: #9a8a6e;
            font-size: 1rem;
            line-height: 1.6;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2.5rem;
            }
            h2 {
                font-size: 1.8rem;
            }
            .slide {
                padding: 40px 20px;
            }
            .flow-step {
                flex-direction: column;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <a href="../google_workspace_setup/google_workspace_setup.html" class="back-link">&#8592; Back to Google Workspace Setup</a>

    <nav>
        <a href="#slide1"></a>
        <a href="#slide2"></a>
        <a href="#slide3"></a>
        <a href="#slide4"></a>
    </nav>

    <!-- Slide 1: Title -->
    <section class="slide" id="slide1">
        <div class="slide-content">
            <h1>AWS IAM Identity Center Setup</h1>
            <p class="subtitle">Configuring AWS to accept Google Workspace as Identity Provider</p>

            <div style="display: flex; justify-content: center; margin: 40px 0;">
                <div class="aws-box">
                    <div class="aws-box-icon">&#9729;</div>
                    <div style="font-weight: 600; font-size: 1.2rem; color: #e6c555;">AWS IAM Identity Center</div>
                    <p style="color: #9a8a6e; margin-top: 10px; font-size: 0.9rem;">formerly AWS Single Sign-On (SSO)</p>
                </div>
            </div>

            <div class="card" style="text-align: center; max-width: 900px; margin: 0 auto;">
                <p style="color: #9a8a6e; line-height: 1.8;">
                    After configuring Google Workspace as the Identity Provider, the next step is to set up
                    <span class="highlight">AWS IAM Identity Center</span> to accept SAML assertions from Google
                    and provision users automatically via SCIM.
                </p>
            </div>
        </div>
        <div class="slide-number">1 / 4</div>
    </section>

    <!-- Slide 2: What is AWS IAM Identity Center -->
    <section class="slide" id="slide2">
        <div class="slide-content">
            <h2>What is AWS IAM Identity Center?</h2>
            <p class="subtitle">Centralized access management for AWS accounts and applications</p>

            <div class="info-grid">
                <div class="card feature-card">
                    <div class="icon">&#128274;</div>
                    <h3>Single Sign-On Hub</h3>
                    <p style="color: #9a8a6e; line-height: 1.6;">
                        AWS IAM Identity Center is the central place to manage SSO access to multiple AWS accounts
                        and business applications. Users sign in once and access all assigned resources.
                    </p>
                </div>

                <div class="card feature-card">
                    <div class="icon">&#127760;</div>
                    <h3>External IdP Support</h3>
                    <p style="color: #9a8a6e; line-height: 1.6;">
                        Supports external identity providers like Google Workspace, Okta, Azure AD, and others
                        via SAML 2.0 protocol. Your existing identity system becomes the source of truth.
                    </p>
                </div>

                <div class="card feature-card">
                    <div class="icon">&#128101;</div>
                    <h3>Automatic User Provisioning</h3>
                    <p style="color: #9a8a6e; line-height: 1.6;">
                        SCIM (System for Cross-domain Identity Management) automatically syncs users and groups
                        from your identity provider. No manual user creation in AWS required.
                    </p>
                </div>

                <div class="card feature-card">
                    <div class="icon">&#128203;</div>
                    <h3>Permission Sets</h3>
                    <p style="color: #9a8a6e; line-height: 1.6;">
                        Define reusable permission templates that can be assigned to users or groups
                        across multiple AWS accounts. Centralized permission management.
                    </p>
                </div>

                <div class="card feature-card">
                    <div class="icon">&#127959;</div>
                    <h3>Multi-Account Access</h3>
                    <p style="color: #9a8a6e; line-height: 1.6;">
                        Manage access to multiple AWS accounts in your organization from a single place.
                        Perfect for organizations using AWS Organizations.
                    </p>
                </div>

                <div class="card feature-card">
                    <div class="icon">&#128176;</div>
                    <h3>Free Service</h3>
                    <p style="color: #9a8a6e; line-height: 1.6;">
                        AWS IAM Identity Center is provided at no additional cost.
                        You only pay for the AWS resources your users access.
                    </p>
                </div>
            </div>

            <div class="card" style="margin-top: 40px; text-align: center; background: linear-gradient(135deg, rgba(212, 175, 55, 0.1) 0%, rgba(197, 160, 40, 0.05) 100%); border-color: rgba(212, 175, 55, 0.25);">
                <p style="color: #c9b896;">
                    <span class="highlight">&#128161; Key Point:</span> AWS IAM Identity Center acts as the bridge between your Google Workspace
                    identity and AWS resources. It receives SAML assertions from Google and grants appropriate AWS access based on group membership.
                </p>
            </div>
        </div>
        <div class="slide-number">2 / 4</div>
    </section>

    <!-- Slide 3: Configure Identity Source -->
    <section class="slide" id="slide3">
        <div class="slide-content">
            <h2>Configure Identity Source</h2>
            <p class="subtitle">Change identity source to external and enable automatic provisioning</p>

            <div style="margin-top: 40px;">
                <div class="card" style="margin-bottom: 30px;">
                    <h3>&#128260; Change to External Identity Provider</h3>
                    <p style="color: #9a8a6e; margin-bottom: 15px;">
                        By default, AWS IAM Identity Center uses its own <span class="highlight">Identity Center directory</span> as the identity source.
                        To use Google Workspace for authentication, you must change the identity source to <span class="highlight">External identity provider</span>.
                    </p>
                    <p style="color: #9a8a6e; margin-bottom: 20px;">
                        Navigate to <span class="highlight">Settings &gt; Identity source</span> tab and click <span class="highlight">Actions &gt; Change identity source</span>.
                        Select "External identity provider" and configure the SAML settings.
                    </p>
                </div>

                <div class="card" style="margin-bottom: 30px;">
                    <h3>&#10004; Successful Configuration</h3>
                    <p style="color: #9a8a6e; margin-bottom: 20px;">
                        The screenshot below shows a <span class="highlight">successfully configured</span> identity source. When your setup is complete,
                        you will see similar information in your AWS IAM Identity Center dashboard.
                    </p>
                    <div style="border-radius: 12px; overflow: hidden; box-shadow: 0 4px 20px rgba(212, 175, 55, 0.1); margin-bottom: 25px;">
                        <img src="identity_source_detail.png" alt="Identity Source Configuration" style="width: 100%; display: block;">
                    </div>

                    <h4 style="color: #e6c555; font-size: 1.2rem; margin-bottom: 15px;">Configuration Elements Explained:</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 15px;">
                        <div style="background: rgba(212, 175, 55, 0.05); border-radius: 10px; padding: 15px; border-left: 3px solid #d4af37;">
                            <strong style="color: #e6c555;">Identity source</strong>
                            <p style="color: #9a8a6e; font-size: 0.9rem; margin-top: 5px;">Shows "External identity provider" - confirms Google Workspace is connected as the IdP.</p>
                        </div>
                        <div style="background: rgba(212, 175, 55, 0.05); border-radius: 10px; padding: 15px; border-left: 3px solid #d4af37;">
                            <strong style="color: #e6c555;">Authentication method</strong>
                            <p style="color: #9a8a6e; font-size: 0.9rem; margin-top: 5px;">SAML 2.0 - The protocol used for authentication between Google and AWS.</p>
                        </div>
                        <div style="background: rgba(212, 175, 55, 0.05); border-radius: 10px; padding: 15px; border-left: 3px solid #d4af37;">
                            <strong style="color: #e6c555;">AWS access portal URL</strong>
                            <p style="color: #9a8a6e; font-size: 0.9rem; margin-top: 5px;">The URL users visit to access AWS through SSO (e.g., https://yourcompany.awsapps.com/start).</p>
                        </div>
                        <div style="background: rgba(212, 175, 55, 0.05); border-radius: 10px; padding: 15px; border-left: 3px solid #d4af37;">
                            <strong style="color: #e6c555;">Provisioning method</strong>
                            <p style="color: #9a8a6e; font-size: 0.9rem; margin-top: 5px;">SCIM - Enables automatic user/group sync from Google Workspace.</p>
                        </div>
                        <div style="background: rgba(212, 175, 55, 0.05); border-radius: 10px; padding: 15px; border-left: 3px solid #d4af37;">
                            <strong style="color: #e6c555;">Identity store</strong>
                            <p style="color: #9a8a6e; font-size: 0.9rem; margin-top: 5px;">Unique ID for your IAM Identity Center instance (d-xxxxxxxxxx format).</p>
                        </div>
                        <div style="background: rgba(212, 175, 55, 0.05); border-radius: 10px; padding: 15px; border-left: 3px solid #d4af37;">
                            <strong style="color: #e6c555;">Issuer URL</strong>
                            <p style="color: #9a8a6e; font-size: 0.9rem; margin-top: 5px;">The Entity ID URL that identifies AWS IAM Identity Center to Google Workspace.</p>
                        </div>
                    </div>
                </div>

                <div class="info-grid" style="margin-top: 30px;">
                    <div class="card feature-card">
                        <h3 style="font-size: 1.4rem;">&#128196; SAML 2.0 Configuration</h3>
                        <p style="color: #9a8a6e; line-height: 1.6; margin-bottom: 15px;">
                            After changing to external IdP, AWS provides important URLs that you need to configure in Google Workspace:
                        </p>
                        <ul style="color: #9a8a6e; line-height: 2; list-style: none; padding: 0;">
                            <li><span class="highlight">&#8226;</span> <strong>IAM Identity Center Assertion Consumer Service (ACS) URL</strong></li>
                            <li><span class="highlight">&#8226;</span> <strong>IAM Identity Center issuer URL (Entity ID)</strong></li>
                        </ul>
                        <div style="display: inline-flex; align-items: center; gap: 5px; margin-top: 10px; padding: 4px 10px; background: rgba(66, 133, 244, 0.15); border: 1px solid rgba(66, 133, 244, 0.3); border-radius: 20px; font-size: 0.75rem; color: #6b9eff;">
                            <span style="font-size: 0.85rem;">G</span> Copy to Google Workspace
                        </div>
                    </div>

                    <div class="card feature-card">
                        <h3 style="font-size: 1.4rem;">&#128260; Automatic Provisioning (SCIM)</h3>
                        <p style="color: #9a8a6e; line-height: 1.6; margin-bottom: 15px;">
                            <span class="highlight">SCIM</span> (System for Cross-domain Identity Management) enables automatic user and group synchronization
                            from Google Workspace to AWS IAM Identity Center.
                        </p>
                        <p style="color: #9a8a6e; line-height: 1.6; margin-bottom: 15px;">
                            When enabled, any user added to the Data Scientist group in Google Workspace will automatically
                            appear in AWS IAM Identity Center - no manual creation needed.
                        </p>
                        <ul style="color: #9a8a6e; line-height: 2; list-style: none; padding: 0;">
                            <li><span class="highlight">&#8226;</span> <strong>SCIM endpoint URL</strong> - API endpoint for provisioning</li>
                            <li><span class="highlight">&#8226;</span> <strong>Access token</strong> - Authentication for SCIM requests</li>
                        </ul>
                        <div style="display: inline-flex; align-items: center; gap: 5px; margin-top: 10px; padding: 4px 10px; background: rgba(66, 133, 244, 0.15); border: 1px solid rgba(66, 133, 244, 0.3); border-radius: 20px; font-size: 0.75rem; color: #6b9eff;">
                            <span style="font-size: 0.85rem;">G</span> Configure in Google Workspace auto-provisioning
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="slide-number">3 / 4</div>
    </section>

    <!-- Slide 4: Successful User Import -->
    <section class="slide" id="slide4">
        <div class="slide-content">
            <h2>Successful User Synchronization</h2>
            <p class="subtitle">Verifying the connection between Google Workspace and AWS</p>

            <div style="margin-top: 40px;">
                <div class="card" style="margin-bottom: 30px;">
                    <h3>&#129309; Connection Handshake Complete</h3>
                    <p style="color: #9a8a6e; margin-bottom: 20px;">
                        When the connection between <span class="highlight">Google Workspace</span> and <span class="highlight">AWS IAM Identity Center</span> is successful,
                        users from your Google Workspace directory will automatically appear in the AWS IAM Identity Center Users list.
                        This confirms that the SAML and SCIM configuration is working correctly.
                    </p>
                    <div style="border-radius: 12px; overflow: hidden; box-shadow: 0 4px 20px rgba(212, 175, 55, 0.1);">
                        <img src="successfully_imported_user_from_google.png" alt="Successfully Imported Users from Google Workspace" style="width: 100%; display: block;">
                    </div>
                </div>

                <div class="info-grid">
                    <div class="card feature-card">
                        <div class="icon">&#128100;</div>
                        <h3 style="font-size: 1.3rem;">Users List</h3>
                        <p style="color: #9a8a6e; line-height: 1.6;">
                            The Users section shows all synchronized users from Google Workspace. Each user entry displays
                            their <span class="highlight">username</span> (email), <span class="highlight">display name</span>,
                            and <span class="highlight">status</span> (Enabled/Disabled).
                        </p>
                    </div>

                    <div class="card feature-card">
                        <div class="icon">&#128279;</div>
                        <h3 style="font-size: 1.3rem;">Created by SCIM</h3>
                        <p style="color: #9a8a6e; line-height: 1.6;">
                            The "Created by" column shows <span class="highlight">SCIM</span>, indicating these users were
                            automatically provisioned through the SCIM protocol - not manually created in AWS.
                            This proves the automatic provisioning is working.
                        </p>
                    </div>

                    <div class="card feature-card">
                        <div class="icon">&#9989;</div>
                        <h3 style="font-size: 1.3rem;">Enabled Status</h3>
                        <p style="color: #9a8a6e; line-height: 1.6;">
                            Users with <span class="highlight" style="color: #22c55e;">Enabled</span> status can sign in to AWS
                            through the SSO portal. If a user is disabled in Google Workspace, their status will automatically
                            update in AWS.
                        </p>
                    </div>

                    <div class="card feature-card">
                        <div class="icon">&#128231;</div>
                        <h3 style="font-size: 1.3rem;">Email as Username</h3>
                        <p style="color: #9a8a6e; line-height: 1.6;">
                            Users are identified by their <span class="highlight">Google Workspace email address</span>.
                            This ensures consistency between both systems and makes it easy to identify users.
                        </p>
                    </div>
                </div>
            </div>

            <div class="card" style="margin-top: 30px; text-align: center; background: linear-gradient(135deg, rgba(34, 197, 94, 0.1) 0%, rgba(22, 163, 74, 0.05) 100%); border-color: rgba(34, 197, 94, 0.25);">
                <p style="color: #a8c9a8;">
                    <span style="color: #22c55e; font-weight: 600;">&#10004; Success!</span> The presence of SCIM-created users confirms that
                    the handshake between Google Workspace and AWS IAM Identity Center is complete. Users can now authenticate
                    to AWS using their Google credentials.
                </p>
            </div>
        </div>
        <div class="slide-number">4 / 4</div>
    </section>

    <script>
        const navLinks = document.querySelectorAll('nav a');
        const slides = document.querySelectorAll('.slide');

        function updateNav() {
            let currentSlide = 0;
            slides.forEach((slide, index) => {
                const rect = slide.getBoundingClientRect();
                if (rect.top <= window.innerHeight / 2) {
                    currentSlide = index;
                }
            });
            navLinks.forEach((link, index) => {
                link.classList.toggle('active', index === currentSlide);
            });
        }

        window.addEventListener('scroll', updateNav);
        updateNav();
    </script>
</body>
</html>
